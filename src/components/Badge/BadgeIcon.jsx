import React, { useState, useEffect } from 'react';
import theme from '@/theme';

let badgeIconIdCounter = 0;

export default function BadgeIcon({
    width = '100px',
    height = '100px',
    color = theme.palette.success.main,
    secondaryColor = '#CFF09E',
    showBadgeName = false,
}) {
    const [badgeIconId, setBadgeIconId] = useState('');

    useEffect(() => {
        setBadgeIconId(`badge-icon-${badgeIconIdCounter++}`);
    }, []);

    const symbolId41 = `symbol-41-${badgeIconId}`;
    const symbolId39 = `symbol-39-${badgeIconId}`;
    const symbolId46 = `symbol-46-${badgeIconId}`;

    return (
        <svg width={width} height={height} viewBox="0 0 512 512">
            <defs>
                <symbol height="200px" id={symbolId41} viewBox="0 0 512.00 512.00" width="200px">
                    <g strokeWidth="0" />
                    <g strokeLinecap="round" strokeLinejoin="round" />
                    <g>
                        <polyline fill={secondaryColor} points="233.225,420.726 270.89,383.061 288.971,401.143 310.88,303.847 213.584,325.756 231.665,343.837 174.547,400.955 " />
                        <g>
                            <path d="m233.23,435.17c-3.7,0 -7.39,-1.41 -10.22,-4.23c-5.64,-5.64 -5.64,-14.79 0,-20.43l37.67,-37.66c5.49,-5.49 14.29,-5.64 19.96,-0.44l11.13,-49.46l-49.45,11.14c2.43,2.65 3.79,6.13 3.79,9.74c0,3.83 -1.52,7.51 -4.23,10.22l-57.12,57.11c-5.64,5.64 -14.78,5.65 -20.42,0c-5.64,-5.64 -5.64,-14.78 0,-20.42l46.9,-46.91l-7.87,-7.86c-3.72,-3.73 -5.12,-9.18 -3.66,-14.23c1.47,-5.06 5.57,-8.92 10.7,-10.08l97.3,-21.91c4.82,-1.08 9.88,0.38 13.38,3.88c3.51,3.5 4.97,8.56 3.88,13.39l-21.91,97.29c-1.15,5.14 -5.01,9.24 -10.07,10.7c-5.06,1.47 -10.51,0.06 -14.23,-3.66l-7.87,-7.87l-27.45,27.46c-2.82,2.82 -6.52,4.23 -10.21,4.23z" fill={color} />
                            <path d="m256,512c-141.16,0 -256,-114.84 -256,-256s114.84,-256 256,-256c53.12,0 104.06,16.12 147.33,46.62c6.52,4.6 8.08,13.61 3.49,20.13c-4.6,6.51 -13.61,8.08 -20.13,3.48c-38.37,-27.05 -83.56,-41.34 -130.69,-41.34c-125.23,0 -227.12,101.88 -227.12,227.11s101.89,227.12 227.12,227.12s227.12,-101.89 227.12,-227.12c0,-34.43 -7.51,-67.49 -22.3,-98.27c-3.46,-7.19 -0.43,-15.82 6.75,-19.28c7.2,-3.45 15.82,-0.43 19.28,6.76c16.69,34.72 25.15,71.99 25.15,110.79c0,141.16 -114.84,256 -256,256z" fill={color} />
                            <path d="m230.72,434.83c-0.72,0 -1.46,-0.05 -2.2,-0.17c-42.22,-6.47 -80.98,-27.93 -109.14,-60.43c-28.45,-32.84 -44.13,-74.83 -44.13,-118.23c0,-99.66 81.09,-180.75 180.75,-180.75s180.75,81.09 180.75,180.75c0,7.98 -6.47,14.44 -14.44,14.44c-7.98,0 -14.45,-6.46 -14.45,-14.44c0,-83.74 -68.12,-151.86 -151.86,-151.86s-151.86,68.12 -151.86,151.86c0,74.33 55.35,138.86 128.75,150.11c7.89,1.21 13.3,8.58 12.09,16.46c-1.09,7.15 -7.24,12.26 -14.26,12.26z" fill={color} />
                        </g>
                        <path d="m256,164.95c50.21,0 91.05,40.84 91.05,91.05l75.26,0c0,-91.7 -74.61,-166.3 -166.31,-166.3s-166.31,74.6 -166.31,166.3l75.26,0c0,-50.21 40.84,-91.05 91.05,-91.05z" fill={secondaryColor} />
                        <g>
                            <path d="m422.33,270.44c0,0 -0.01,0 -0.02,0l-75.26,0c-7.97,0 -14.44,-6.46 -14.44,-14.44c0,-42.24 -34.37,-76.61 -76.61,-76.61s-76.61,34.37 -76.61,76.61c0,7.98 -6.47,14.44 -14.44,14.44l-75.26,0c-7.97,0 -14.44,-6.46 -14.44,-14.44c0,-99.66 81.09,-180.75 180.75,-180.75c99.34,0 180.22,80.57 180.74,179.79c0.03,0.32 0.03,0.64 0.03,0.96c0.01,7.98 -6.46,14.44 -14.44,14.44zm-61.82,-28.88l46.67,0c-7.3,-76.99 -72.31,-137.42 -151.18,-137.42s-143.89,60.43 -151.18,137.42l46.67,0c7.06,-51.36 51.24,-91.06 104.51,-91.06s97.45,39.7 104.51,91.06z" fill={color} />
                            <path d="m216.29,187.29c-3.23,0 -6.49,-1.08 -9.18,-3.31l-59.82,-49.4c-6.15,-5.08 -7.02,-14.19 -1.94,-20.33c5.08,-6.15 14.18,-7.02 20.33,-1.94l59.82,49.4c6.15,5.08 7.02,14.19 1.94,20.33c-2.86,3.46 -6.99,5.25 -11.15,5.25z" fill={color} />
                            <path d="m295.71,187.29c-4.16,0 -8.29,-1.79 -11.15,-5.24c-5.08,-6.15 -4.21,-15.26 1.94,-20.33l59.82,-49.41c6.15,-5.08 15.25,-4.21 20.33,1.94c5.08,6.15 4.21,15.25 -1.94,20.33l-59.82,49.41c-2.69,2.22 -5.94,3.3 -9.18,3.3z" fill={color} />
                        </g>
                    </g>
                </symbol>
                {showBadgeName &&
                    <symbol height="200px" id={symbolId39} width="200px">
                        <defs>
                            <path id={`path-${badgeIconId}`} d="m50,100a50,50 0 1 1 100,0a50,50 0 1 1 -100,0" fill="none" />
                        </defs>
                        <text fill={color} fontFamily="Arial" fontSize="14">
                            <textPath startOffset="0%" href={`#path-${badgeIconId}`}>Honesty Badge</textPath>
                        </text>
                    </symbol>
                }

                <symbol height="512" id={symbolId46} width="512">
                    <g className="layer">
                        <use transform="matrix(1.79633 0 0 1.87783 -365.715 -407.233)" x="261.6" href={`#${symbolId41}`} y="259.49" />
                        {showBadgeName && <use transform="matrix(4.05041 0 0 3.81059 -100.444 -66.947)" x="-5.32" href={`#${symbolId39}`} y="-19.5" />}
                    </g>
                </symbol>
            </defs>
            <g className="layer">
                <use transform="matrix(1.02109 0 0 0.973579 -32.1356 9.94736)" x="1.02" href={`#${symbolId46}`} y="15.53" />
            </g>
        </svg>
    );
}
